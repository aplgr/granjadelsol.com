<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Page not found · Choose your language</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex,follow">
    <meta name="description"
        content="The requested page was not found. We will try to send you to the right language version.">

    <meta name="site-base" content="/">
    <style>
        body {
            font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
            margin: 2rem;
        }

        code {
            background: #f2f2f2;
            padding: .1rem .3rem;
            border-radius: .2rem
        }

        nav a {
            margin-right: .75rem
        }
    </style>
</head>

<body>
    <h1>Not found</h1>
    <p>The requested path <code id="p"></code> was not found. If your language can be detected, you’ll be redirected.
    </p>
    <p>If not, choose your language:</p>
    <nav aria-label="Languages">
        <a href="de/" data-lang="de">Deutsch</a>
        <a href="en/" data-lang="en">English</a>
        <a href="es/" data-lang="es">Español</a>
        <a href="pt/" data-lang="pt">Português</a>
    </nav>

    <script>
        (function () {
            var supported = ["de", "en", "es", "pt"];
            var baseMeta = document.querySelector('meta[name="site-base"]');
            var siteBase = (baseMeta && baseMeta.content) || "/";
            if (siteBase.charAt(0) !== "/") siteBase = "/" + siteBase;
            if (siteBase.slice(-1) !== "/") siteBase += "/";

            var path = location.pathname;
            document.getElementById("p").textContent = path || "/";

            var parts = path.replace(/^\//, "").split("/").filter(Boolean);
            var idx = siteBase === "/" ? 0 : 1;

            if (parts.length > idx && supported.indexOf(parts[idx]) >= 0) return;

            var manual;
            try { manual = localStorage.getItem("lang"); } catch (e) { }
            var pref = (manual || (navigator.languages && navigator.languages[0]) || navigator.language || "en").toLowerCase();
            var code = pref.split("-")[0];
            var lang = supported.indexOf(code) >= 0 ? code : "en";

            var rest = path.indexOf(siteBase) === 0 ? path.slice(siteBase.length) : path.replace(/^\//, "");
            rest = rest.replace(/^\/+/, "");

            var newPath = siteBase + lang + "/" + rest;
            if (path.slice(-1) === "/") newPath += "/";

            location.replace(newPath + location.search + location.hash);
        })();

        document.addEventListener("click", function (e) {
            var a = e.target.closest && e.target.closest("a[data-lang]");
            if (!a) return;
            var v = a.getAttribute("data-lang");
            try { localStorage.setItem("lang", v); } catch (err) { }
        });
    </script>
</body>

</html>